@prefix abstr: <https://quangis.github.io/tool/abstract#> .
@prefix cct: <https://quangis.github.io/vocab/cct#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix tf: <https://github.com/quangis/transforge#> .
@prefix wf: <http://geographicknowledge.de/vocab/Workflow.rdf#> .
@prefix wfexpert2: <https://quangis.github.io/workflows/expert2/> .

wfexpert2:wfcrime_exposure a wf:Workflow,
        tf:Transformation ;
    wf:edge [ wf:applicationOf abstr:InterpolateDensityonObjects2LineObject ;
            wf:input1 _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
            wf:input2 _:n53ab7193fbd340a9a114c5db6c63b0a2b3 ;
            wf:output _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ],
        [ wf:applicationOf abstr:JoinCountAttribute ;
            wf:input1 _:n53ab7193fbd340a9a114c5db6c63b0a2b6 ;
            wf:input2 _:n53ab7193fbd340a9a114c5db6c63b0a2b7 ;
            wf:output _:n53ab7193fbd340a9a114c5db6c63b0a2b8 ],
        [ wf:applicationOf abstr:ComputeCountDensityonObject ;
            wf:input1 _:n53ab7193fbd340a9a114c5db6c63b0a2b8 ;
            wf:output _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ] ;
    wf:source _:n53ab7193fbd340a9a114c5db6c63b0a2b3,
        _:n53ab7193fbd340a9a114c5db6c63b0a2b6,
        _:n53ab7193fbd340a9a114c5db6c63b0a2b7 ;
    wf:target _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ;
    tf:containsOperator cct:apply1,
        cct:apply2,
        cct:arealinterpol,
        cct:compose,
        cct:deify,
        cct:get_attrL,
        cct:get_attrR,
        cct:getamounts,
        cct:join_attr,
        cct:pi2,
        cct:ratio,
        cct:size ;
    tf:containsType tf:Top,
        cct:Itv,
        cct:Nom,
        cct:Ord,
        cct:Qlt,
        cct:R1-Loc,
        cct:R1-Reg,
        cct:R1-Top,
        cct:R1-Val,
        cct:R2-Obj-Count,
        cct:R2-Obj-Itv,
        cct:R2-Obj-Nom,
        cct:R2-Obj-Ord,
        cct:R2-Obj-Product-Reg-Count,
        cct:R2-Obj-Product-Reg-Itv,
        cct:R2-Obj-Product-Reg-Nom,
        cct:R2-Obj-Product-Reg-Ord,
        cct:R2-Obj-Product-Reg-Qlt,
        cct:R2-Obj-Product-Reg-Ratio,
        cct:R2-Obj-Product-Reg-Top,
        cct:R2-Obj-Product-Top-Count,
        cct:R2-Obj-Product-Top-Itv,
        cct:R2-Obj-Product-Top-Nom,
        cct:R2-Obj-Product-Top-Ord,
        cct:R2-Obj-Product-Top-Qlt,
        cct:R2-Obj-Product-Top-Ratio,
        cct:R2-Obj-Product-Top-Top,
        cct:R2-Obj-Qlt,
        cct:R2-Obj-Ratio,
        cct:R2-Obj-Reg,
        cct:R2-Obj-Top,
        cct:R2-Reg-Itv,
        cct:R2-Reg-Nom,
        cct:R2-Reg-Ord,
        cct:R2-Reg-Qlt,
        cct:R2-Reg-Ratio,
        cct:R2-Reg-Top,
        cct:R2-Top-Count,
        cct:R2-Top-Itv,
        cct:R2-Top-Nom,
        cct:R2-Top-Ord,
        cct:R2-Top-Product-Reg-Count,
        cct:R2-Top-Product-Reg-Itv,
        cct:R2-Top-Product-Reg-Nom,
        cct:R2-Top-Product-Reg-Ord,
        cct:R2-Top-Product-Reg-Qlt,
        cct:R2-Top-Product-Reg-Ratio,
        cct:R2-Top-Product-Reg-Top,
        cct:R2-Top-Product-Top-Count,
        cct:R2-Top-Product-Top-Itv,
        cct:R2-Top-Product-Top-Nom,
        cct:R2-Top-Product-Top-Ord,
        cct:R2-Top-Product-Top-Qlt,
        cct:R2-Top-Product-Top-Ratio,
        cct:R2-Top-Product-Top-Top,
        cct:R2-Top-Qlt,
        cct:R2-Top-Ratio,
        cct:R2-Top-Reg,
        cct:R2-Top-Top,
        cct:Ratio,
        cct:Val ;
    tf:input _:N36a57308f5b54fbd8a172daad3b4283d,
        _:N4daf9a51a8794c1cad2503d5e5fa67e2,
        _:Ncad7ba26eb2f4f3d91a6333ab1217c27 ;
    tf:output [ rdfs:label "R2(Reg, Ratio) via arealinterpol" ;
            tf:from [ rdfs:label "R2(Reg, Ratio) via getamounts" ;
                    tf:from [ rdfs:label "R2(Obj, (Reg * Ratio)) via join_attr" ;
                            tf:from [ rdfs:label "R2(Obj, Ratio) via apply2" ;
                                    tf:from _:N3e95af6927254f809c0654e4e8c0a2a0,
                                        [ rdfs:label "Ratio via ratio" ;
                                            tf:from _:N5af39d93512e44f0b6d92ce99e8df939 ;
                                            tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
                                            tf:subtypeOf tf:Top,
                                                cct:Itv,
                                                cct:Nom,
                                                cct:Ord,
                                                cct:Qlt,
                                                cct:Ratio,
                                                cct:Val ;
                                            tf:type cct:Ratio ;
                                            tf:via cct:ratio ],
                                        _:Nd994809af94943af81f106dee6c1490b ;
                                    tf:internal _:N5af39d93512e44f0b6d92ce99e8df939 ;
                                    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
                                    tf:subtypeOf tf:Top,
                                        cct:R2-Obj-Itv,
                                        cct:R2-Obj-Nom,
                                        cct:R2-Obj-Ord,
                                        cct:R2-Obj-Qlt,
                                        cct:R2-Obj-Ratio,
                                        cct:R2-Obj-Top,
                                        cct:R2-Top-Itv,
                                        cct:R2-Top-Nom,
                                        cct:R2-Top-Ord,
                                        cct:R2-Top-Qlt,
                                        cct:R2-Top-Ratio,
                                        cct:R2-Top-Top ;
                                    tf:type cct:R2-Obj-Ratio ;
                                    tf:via cct:apply2 ],
                                [ rdfs:label "R2(Obj, Reg) via get_attrL" ;
                                    tf:from _:Ncae3b232d7de40e3a1f9fccf26783497 ;
                                    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
                                    tf:subtypeOf tf:Top,
                                        cct:R2-Obj-Reg,
                                        cct:R2-Obj-Top,
                                        cct:R2-Top-Reg,
                                        cct:R2-Top-Top ;
                                    tf:type cct:R2-Obj-Reg ;
                                    tf:via cct:get_attrL ] ;
                            tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
                            tf:subtypeOf tf:Top,
                                cct:R2-Obj-Product-Reg-Itv,
                                cct:R2-Obj-Product-Reg-Nom,
                                cct:R2-Obj-Product-Reg-Ord,
                                cct:R2-Obj-Product-Reg-Qlt,
                                cct:R2-Obj-Product-Reg-Ratio,
                                cct:R2-Obj-Product-Reg-Top,
                                cct:R2-Obj-Product-Top-Itv,
                                cct:R2-Obj-Product-Top-Nom,
                                cct:R2-Obj-Product-Top-Ord,
                                cct:R2-Obj-Product-Top-Qlt,
                                cct:R2-Obj-Product-Top-Ratio,
                                cct:R2-Obj-Product-Top-Top,
                                cct:R2-Obj-Top,
                                cct:R2-Top-Product-Reg-Itv,
                                cct:R2-Top-Product-Reg-Nom,
                                cct:R2-Top-Product-Reg-Ord,
                                cct:R2-Top-Product-Reg-Qlt,
                                cct:R2-Top-Product-Reg-Ratio,
                                cct:R2-Top-Product-Reg-Top,
                                cct:R2-Top-Product-Top-Itv,
                                cct:R2-Top-Product-Top-Nom,
                                cct:R2-Top-Product-Top-Ord,
                                cct:R2-Top-Product-Top-Qlt,
                                cct:R2-Top-Product-Top-Ratio,
                                cct:R2-Top-Product-Top-Top,
                                cct:R2-Top-Top ;
                            tf:type cct:R2-Obj-Product-Reg-Ratio ;
                            tf:via cct:join_attr ] ;
                    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ;
                    tf:subtypeOf tf:Top,
                        cct:R2-Reg-Itv,
                        cct:R2-Reg-Nom,
                        cct:R2-Reg-Ord,
                        cct:R2-Reg-Qlt,
                        cct:R2-Reg-Ratio,
                        cct:R2-Reg-Top,
                        cct:R2-Top-Itv,
                        cct:R2-Top-Nom,
                        cct:R2-Top-Ord,
                        cct:R2-Top-Qlt,
                        cct:R2-Top-Ratio,
                        cct:R2-Top-Top ;
                    tf:type cct:R2-Reg-Ratio ;
                    tf:via cct:getamounts ],
                [ rdfs:label "R1(Reg) via pi2" ;
                    tf:from [ rdfs:label "R2(Obj, Reg) via get_attrL" ;
                            tf:from _:Ncad7ba26eb2f4f3d91a6333ab1217c27 ;
                            tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ;
                            tf:subtypeOf tf:Top,
                                cct:R2-Obj-Reg,
                                cct:R2-Obj-Top,
                                cct:R2-Top-Reg,
                                cct:R2-Top-Top ;
                            tf:type cct:R2-Obj-Reg ;
                            tf:via cct:get_attrL ] ;
                    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ;
                    tf:subtypeOf tf:Top,
                        cct:R1-Reg,
                        cct:R1-Top,
                        cct:R1-Val ;
                    tf:type cct:R1-Reg ;
                    tf:via cct:pi2 ] ;
            tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b4 ;
            tf:subtypeOf tf:Top,
                cct:R2-Reg-Itv,
                cct:R2-Reg-Nom,
                cct:R2-Reg-Ord,
                cct:R2-Reg-Qlt,
                cct:R2-Reg-Ratio,
                cct:R2-Reg-Top,
                cct:R2-Top-Itv,
                cct:R2-Top-Nom,
                cct:R2-Top-Ord,
                cct:R2-Top-Qlt,
                cct:R2-Top-Ratio,
                cct:R2-Top-Top ;
            tf:type cct:R2-Reg-Ratio ;
            tf:via cct:arealinterpol ] .

_:Nbc4e30a5116546059749f92819985617 rdfs:label "Ratio via compose" ;
    tf:from _:N0f5e44b3e4e04bfb8a61d8e206576380,
        _:N1841dde73b4a48128ecf83cc9a6b9ba3,
        _:N6a8e7fd7890448af9051edc6ead8c44f ;
    tf:internal _:N3a6de347151049ecad1bed972683b671,
        _:Nc3efbe09c2a846a2a5e75049afdb5a17 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:Itv,
        cct:Nom,
        cct:Ord,
        cct:Qlt,
        cct:Ratio,
        cct:Val ;
    tf:type cct:Ratio ;
    tf:via cct:compose .

_:N0f5e44b3e4e04bfb8a61d8e206576380 rdfs:label "Ratio via size" ;
    tf:from _:N3a6de347151049ecad1bed972683b671 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:Itv,
        cct:Nom,
        cct:Ord,
        cct:Qlt,
        cct:Ratio,
        cct:Val ;
    tf:type cct:Ratio ;
    tf:via cct:size .

_:N36a57308f5b54fbd8a172daad3b4283d rdfs:label "R2(Obj, Count) from source" ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b6 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Count,
        cct:R2-Obj-Itv,
        cct:R2-Obj-Nom,
        cct:R2-Obj-Ord,
        cct:R2-Obj-Qlt,
        cct:R2-Obj-Ratio,
        cct:R2-Obj-Top,
        cct:R2-Top-Count,
        cct:R2-Top-Itv,
        cct:R2-Top-Nom,
        cct:R2-Top-Ord,
        cct:R2-Top-Qlt,
        cct:R2-Top-Ratio,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Count .

_:N3a6de347151049ecad1bed972683b671 rdfs:label "(internal)" ;
    tf:from _:N1841dde73b4a48128ecf83cc9a6b9ba3,
        _:N6a8e7fd7890448af9051edc6ead8c44f ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 .

_:N3e95af6927254f809c0654e4e8c0a2a0 rdfs:label "R2(Obj, Ratio) via apply1" ;
    tf:from _:Nbc4e30a5116546059749f92819985617,
        _:Nff0a09a959324bbd92cc8f3133f97ca9 ;
    tf:internal _:N1841dde73b4a48128ecf83cc9a6b9ba3 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Itv,
        cct:R2-Obj-Nom,
        cct:R2-Obj-Ord,
        cct:R2-Obj-Qlt,
        cct:R2-Obj-Ratio,
        cct:R2-Obj-Top,
        cct:R2-Top-Itv,
        cct:R2-Top-Nom,
        cct:R2-Top-Ord,
        cct:R2-Top-Qlt,
        cct:R2-Top-Ratio,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Ratio ;
    tf:via cct:apply1 .

_:N4daf9a51a8794c1cad2503d5e5fa67e2 rdfs:label "R2(Obj, Reg) from source" ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b7 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Reg,
        cct:R2-Obj-Top,
        cct:R2-Top-Reg,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Reg .

_:N5af39d93512e44f0b6d92ce99e8df939 rdfs:label "(internal)" ;
    tf:from _:N3e95af6927254f809c0654e4e8c0a2a0,
        _:Nd994809af94943af81f106dee6c1490b ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 .

_:N6a8e7fd7890448af9051edc6ead8c44f rdfs:label "R1(Loc) via deify" ;
    tf:from _:Nc3efbe09c2a846a2a5e75049afdb5a17 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:R1-Loc,
        cct:R1-Top,
        cct:R1-Val ;
    tf:type cct:R1-Loc ;
    tf:via cct:deify .

_:Nc3efbe09c2a846a2a5e75049afdb5a17 rdfs:label "(internal)" ;
    tf:from _:N0f5e44b3e4e04bfb8a61d8e206576380,
        _:N1841dde73b4a48128ecf83cc9a6b9ba3 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 .

_:Ncad7ba26eb2f4f3d91a6333ab1217c27 rdfs:label "R2(Obj, (Reg * Nom)) from source" ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b3 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Product-Reg-Nom,
        cct:R2-Obj-Product-Reg-Qlt,
        cct:R2-Obj-Product-Reg-Top,
        cct:R2-Obj-Product-Top-Nom,
        cct:R2-Obj-Product-Top-Qlt,
        cct:R2-Obj-Product-Top-Top,
        cct:R2-Obj-Top,
        cct:R2-Top-Product-Reg-Nom,
        cct:R2-Top-Product-Reg-Qlt,
        cct:R2-Top-Product-Reg-Top,
        cct:R2-Top-Product-Top-Nom,
        cct:R2-Top-Product-Top-Qlt,
        cct:R2-Top-Product-Top-Top,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Product-Reg-Nom .

_:Nd994809af94943af81f106dee6c1490b rdfs:label "R2(Obj, Count) via get_attrR" ;
    tf:from _:Ncae3b232d7de40e3a1f9fccf26783497 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Count,
        cct:R2-Obj-Itv,
        cct:R2-Obj-Nom,
        cct:R2-Obj-Ord,
        cct:R2-Obj-Qlt,
        cct:R2-Obj-Ratio,
        cct:R2-Obj-Top,
        cct:R2-Top-Count,
        cct:R2-Top-Itv,
        cct:R2-Top-Nom,
        cct:R2-Top-Ord,
        cct:R2-Top-Qlt,
        cct:R2-Top-Ratio,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Count ;
    tf:via cct:get_attrR .

_:Nff0a09a959324bbd92cc8f3133f97ca9 rdfs:label "R2(Obj, Reg) via get_attrL" ;
    tf:from _:Ncae3b232d7de40e3a1f9fccf26783497 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Reg,
        cct:R2-Obj-Top,
        cct:R2-Top-Reg,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Reg ;
    tf:via cct:get_attrL .

_:Ncae3b232d7de40e3a1f9fccf26783497 rdfs:label "R2(Obj, (Reg * Count)) via join_attr" ;
    tf:from _:N36a57308f5b54fbd8a172daad3b4283d,
        _:N4daf9a51a8794c1cad2503d5e5fa67e2 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b8 ;
    tf:subtypeOf tf:Top,
        cct:R2-Obj-Product-Reg-Count,
        cct:R2-Obj-Product-Reg-Itv,
        cct:R2-Obj-Product-Reg-Nom,
        cct:R2-Obj-Product-Reg-Ord,
        cct:R2-Obj-Product-Reg-Qlt,
        cct:R2-Obj-Product-Reg-Ratio,
        cct:R2-Obj-Product-Reg-Top,
        cct:R2-Obj-Product-Top-Count,
        cct:R2-Obj-Product-Top-Itv,
        cct:R2-Obj-Product-Top-Nom,
        cct:R2-Obj-Product-Top-Ord,
        cct:R2-Obj-Product-Top-Qlt,
        cct:R2-Obj-Product-Top-Ratio,
        cct:R2-Obj-Product-Top-Top,
        cct:R2-Obj-Top,
        cct:R2-Top-Product-Reg-Count,
        cct:R2-Top-Product-Reg-Itv,
        cct:R2-Top-Product-Reg-Nom,
        cct:R2-Top-Product-Reg-Ord,
        cct:R2-Top-Product-Reg-Qlt,
        cct:R2-Top-Product-Reg-Ratio,
        cct:R2-Top-Product-Reg-Top,
        cct:R2-Top-Product-Top-Count,
        cct:R2-Top-Product-Top-Itv,
        cct:R2-Top-Product-Top-Nom,
        cct:R2-Top-Product-Top-Ord,
        cct:R2-Top-Product-Top-Qlt,
        cct:R2-Top-Product-Top-Ratio,
        cct:R2-Top-Product-Top-Top,
        cct:R2-Top-Top ;
    tf:type cct:R2-Obj-Product-Reg-Count ;
    tf:via cct:join_attr .

_:N1841dde73b4a48128ecf83cc9a6b9ba3 rdfs:label "(internal)" ;
    tf:from _:Nff0a09a959324bbd92cc8f3133f97ca9 ;
    tf:origin _:n53ab7193fbd340a9a114c5db6c63b0a2b2 .

